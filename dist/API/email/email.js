"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),nodemailer=require("nodemailer"),sgTransport=require("nodemailer-sendgrid-transport"),randomstring=require("randomstring"),Email=function(){function e(r,t,n,s,i){_classCallCheck(this,e),this.recipient=r,this.sender=t,this.subject=n,this.text=s,this.res=i}return _createClass(e,[{key:"sendTokenEmail",value:function(){var e=this,r=(randomstring.generate({length:20,charset:"hex"}),{auth:{api_user:"Georgecook92",api_key:"osc5Gne^s9tAd25n"}}),t=nodemailer.createTransport(sgTransport(r)),n={to:this.recipient,from:this.sender,subject:this.subject,text:this.text};t.sendMail(n,function(r){return r?console.log("err",r):(console.log("res inside",e.res),void e.res.json({success:"Email has been sent"}))})}}]),e}();exports.default=Email;