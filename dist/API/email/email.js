"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),nodemailer=require("nodemailer"),sgTransport=require("nodemailer-sendgrid-transport"),randomstring=require("randomstring"),Email=function(){function e(r,t,n,s,i){_classCallCheck(this,e),this.recipient=r,this.sender=t,this.subject=n,this.text=s,this.res=i}return _createClass(e,[{key:"sendTokenEmail",value:function(){var e=this,r=(randomstring.generate({length:20,charset:"hex"}),{auth:{api_user:"Georgecook92",api_key:"osc5Gne^s9tAd25n"}}),t=nodemailer.createTransport(sgTransport(r)),n={to:this.recipient,from:this.sender,subject:this.subject,text:this.text};t.sendMail(n,function(r){return r?console.log("err",r):void e.res.json({success:"Email has been sent"})})}}]),e}();exports.default=Email;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsL2VtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwic2dUcmFuc3BvcnQiLCJyYW5kb21zdHJpbmciLCJFbWFpbCIsInJlY2lwaWVudCIsInNlbmRlciIsInN1YmplY3QiLCJ0ZXh0IiwicmVzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwib3B0aW9ucyIsImxlbmd0aCIsImNoYXJzZXQiLCJhdXRoIiwiYXBpX3VzZXIiLCJhcGlfa2V5IiwibWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwibWFpbE9wdGlvbnMiLCJ0byIsImZyb20iLCJ0b2tlbiIsImVyciIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJvYkFBTUEsV0FBYUMsUUFBUSxjQUNyQkMsWUFBY0QsUUFBUSxpQ0FDdEJFLGFBQWVGLFFBQVEsZ0JBRVJHLGlCQUVuQixRQUFBQSxHQUFZQyxFQUFXQyxFQUFRQyxFQUFTQyxFQUFNQyxHQUFLQyxnQkFBQUMsS0FBQVAsR0FDakRPLEtBQUtOLFVBQVlBLEVBQ2pCTSxLQUFLTCxPQUFTQSxFQUNkSyxLQUFLSixRQUFVQSxFQVRiUCxLQUFBQSxLQUFBQSxFQUNBRSxLQUFBQSxJQUFBQSxnRUFhYSxHQUFBVSxHQUFBRCxLQU5mRSxHQUZVUixhQUFXQyxVQUE0QlEsT0FBQSxHQVcvQ0MsUUFBUyxTQVBYQyxNQUNBQyxTQUFBLGVBQ0RDLFFBQUEsc0JBY0tDLEVBQVNuQixXQUFXb0IsZ0JBQWdCbEIsWUFBWVcsSUFackNRLEdBZWJDLEdBQUlYLEtBQUtOLFVBZFhrQixLQUFNQyxLQUFBQSxPQUNKVixRQUFBQSxLQURrQ1AsUUFFbENRLEtBQUFBLEtBQVNQLEtBTVBVLEdBQUFBLFNBQVNHLEVBQUEsU0FBQUksR0FGTCxNQUFBQSxHQUZSQyxRQUFBQyxJQUFBLE1BQUFGLE9BU0FiLEdBQUlTLElBQUFBLE1BQUFBLFFBQWMsbURBeEJEakIiLCJmaWxlIjoiZW1haWwvZW1haWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub2RlbWFpbGVyID0gcmVxdWlyZSgnbm9kZW1haWxlcicpO1xuY29uc3Qgc2dUcmFuc3BvcnQgPSByZXF1aXJlKCdub2RlbWFpbGVyLXNlbmRncmlkLXRyYW5zcG9ydCcpO1xuY29uc3QgcmFuZG9tc3RyaW5nID0gcmVxdWlyZSgncmFuZG9tc3RyaW5nJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtYWlsIHtcblxuICBjb25zdHJ1Y3RvcihyZWNpcGllbnQsIHNlbmRlciwgc3ViamVjdCwgdGV4dCwgcmVzKSB7XG4gICAgdGhpcy5yZWNpcGllbnQgPSByZWNpcGllbnQ7XG4gICAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7XG4gICAgdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMucmVzID0gcmVzO1xuICB9XG5cbiAgc2VuZFRva2VuRW1haWwoKSB7XG4gICAgY29uc3QgdG9rZW4gPSByYW5kb21zdHJpbmcuZ2VuZXJhdGUoe1xuICAgICAgbGVuZ3RoOiAyMCxcbiAgICAgIGNoYXJzZXQ6ICdoZXgnXG4gICAgfSk7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAvL25lZWQgRU5WXG4gICAgICBhdXRoOiB7XG4gICAgICAgIGFwaV91c2VyOiAnR2VvcmdlY29vazkyJyxcbiAgICAgICAgYXBpX2tleTogJ29zYzVHbmVeczl0QWQyNW4nXG4gICAgICB9XG4gICAgfVxuICAgIHZhciBtYWlsZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChzZ1RyYW5zcG9ydChvcHRpb25zKSk7XG4gICAgdmFyIHVybCA9ICd0YmMobWF5YmUgbG9jYWxob3N0KSc7XG4gICAgdmFyIG1haWxPcHRpb25zID0ge1xuICAgICAgdG86IHRoaXMucmVjaXBpZW50LFxuICAgICAgZnJvbTogdGhpcy5zZW5kZXIsXG4gICAgICBzdWJqZWN0OiB0aGlzLnN1YmplY3QsXG4gICAgICB0ZXh0OiB0aGlzLnRleHRcbiAgICB9O1xuXG4gICAgLy9jb25zb2xlLmxvZygncmVzIGZyb20gZW1haWwnLCB0aGlzLnJlcyk7XG5cbiAgICAvL3VzZXMgbm9kZSBtYWlsZXIgYW5kIHNlbmQtZ3JpZFxuICAgIG1haWxlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2VycicsIGVycik7XG4gICAgICB9XG4gICAgLy8gIGNvbnNvbGUubG9nKCdyZXMgaW5zaWRlJywgdGhpcy5yZXMpO1xuICAgICAgdGhpcy5yZXMuanNvbiggeyAnc3VjY2Vzcyc6ICdFbWFpbCBoYXMgYmVlbiBzZW50JyB9ICk7XG5cbiAgICB9KTtcbiAgfVxufVxuIl19
