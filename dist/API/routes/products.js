"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function u(o,n){try{var c=t[o](n),d=c.value}catch(e){return void r(e)}return c.done?void e(d):Promise.resolve(d).then(function(e){u("next",e)},function(e){u("throw",e)})}return u("next")})}}var _productsModel=require("../model/productsModel.js"),_productsModel2=_interopRequireDefault(_productsModel),express=require("express"),router=express.Router();router.get("/getAllByCat",function(e,t,r){var u="SELECT * FROM _product where _product.category_id = ?",o=e.get("Authorization")||"",n=new _productsModel2.default(e.query,t,r,o,u);n.getAllByCat()}),router.get("/getAll",function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,u){var o,n,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o="SELECT * FROM _product",n=t.get("Authorization")||"",c=new _productsModel2.default(t.query,r,u,n,o),e.next=5,c.getAll();case 5:d=e.sent,r.json(d);case 7:case"end":return e.stop()}},e,void 0)}));return function(t,r,u){return e.apply(this,arguments)}}()),router.get("/getProduct",function(e,t,r){var u="SELECT * FROM _product where _product.product_id = ?",o=e.get("Authorization")||"",n=new _productsModel2.default(e.query,t,r,o,u);n.getProduct()}),router.put("/changeQuantity",function(e,t,r){var u="update _product set `quantity` = ? where `product_id` = ?",o=new _productsModel2.default(e.body,t,r,u);o.changeProductQuantity()}),router.put("/changeDiscount",function(e,t,r){var u="update _product set `discount` = ? where `product_id` = ?",o=new _productsModel2.default(e.body,t,r,u);o.changeDiscount()}),router.put("/changePrice",function(e,t,r){var u="update _product set `price` = ? where `product_id` = ?",o=new _productsModel2.default(e.body,t,r,u);o.changePrice()}),module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy9wcm9kdWN0cy5qcyJdLCJuYW1lcyI6WyJfcHJvZHVjdHNNb2RlbCIsInJlcXVpcmUiLCJleHByZXNzIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwibmV4dCIsImVtYWlsQ2hlY2tTUUwiLCJ0b2tlbiIsIk1vZGVsIiwiX3Byb2R1Y3RzTW9kZWwyIiwiZGVmYXVsdCIsInF1ZXJ5IiwiZ2V0QWxsQnlDYXQiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiZ2V0QWxsIiwiX3giLCJfeDIiLCJfeDMiLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJnZXRQcm9kdWN0IiwicHV0IiwiY2hhbmdlUXVhbnRpdHlTUUwiLCJib2R5IiwiY2hhbmdlRGlzY291bnRTUUwiLCJyZXN1bHQiLCJjaGFuZ2VQcmljZVNRTCIsImNoYW5nZVByaWNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6ImtZQUVBLEdBQUFBLGdCQUFBQyxRQUFBLG9GQUZJQyxRQUFVRCxRQUFRLFdBQ2xCRSxPQUFTRCxRQUFRRSxRQUdyQkQsUUFBT0UsSUFBSSxlQUFnQixTQUFDQyxFQUFLQyxFQUFLQyxHQUNwQyxHQUFJQyxHQUFnQix3REFDaEJDLEVBQVFKLEVBQUlELElBQUksa0JBQW9CLEdBQ3BDTSxFQUFRLEdBQUFDLGlCQUFBQyxRQUFrQlAsRUFBSVEsTUFBT1AsRUFBS0MsRUFBTUUsRUFBT0QsRUFDM0RFLEdBQU1JLGdCQVBSWixPQUFJQSxJQUFBQSxVQUFKLFdBQUEsR0FBQWEsR0FBQUMsa0JBQUFDLG1CQUFBQyxLQUFxQmYsUUFBQUEsR0FBckJFLEVBQUFDLEVBQUFDLEdBQXFCSixHQUFBQSxHQUFBQSxFQUFBQSxFQUFBQSxDQUFBQSxPQUFBQSxvQkFBQUEsS0FBQUEsU0FBQUEsR0FBQUEsT0FBQUEsT0FBQUEsRUFBQUEsS0FBQUEsRUFBQUEsTUFBQUEsSUFBQUEsR0FBQUEsTUFXZkssR0FBZ0IseUJBQ2hCQyxFQUFRSixFQUFJRCxJQUFJLGtCQUFvQixHQVQxQ0YsRUFBVyxHQUFBUyxpQkFBQUMsUUFBZ0JQLEVBQUFRLE1BQU1QLEVBQUtDLEVBQVNFLEVBQUFELEdBSDFCTCxFQUFBQSxLQUFBQSxFQUlDTyxFQUFBUyxRQUpEaEIsS0FBQUEsR0FJZkssRUFKZUwsRUFBQUEsS0FLbkJHLEVBQUlHLEtBQUFBLEVBTGVOLEtBQUFBLEdBQUFBLElBQUFBLE1BQUFBLE1BQUFBLEdBQUFBLFNBQUFBLEVBQUFBLFVBQXJCLE9BQUEsVUFBQWlCLEVBQUFDLEVBQUFDLEdBQUEsTUFBQVAsR0FBQVEsTUFBQUMsS0FBQUMsZ0JBUUN2QixPQUxERSxJQUFBLGNBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FnQkUsR0FBSUMsR0FBZ0IsdURBVHRCTixFQUFXRyxFQUFBRCxJQUFYLGtCQUFBLEdBQUFNLEVBQUEsR0FBQUMsaUJBQUFDLFFBQUFQLEVBQUFRLE1BQUFQLEVBQUFDLEVBQUFFLEVBQXNCRCxFQUFBRSxHQUFBZ0IsZUFBQXhCLE9BQUF5QixJQUFBLGtCQUFBLFNBQUF0QixFQUFBQyxFQUFBQyxHQUFBLEdBQUFxQixHQUFBLDREQUNoQnBCLEVBQUFBLEdBQUFBLGlCQUFBQSxRQUFnQkgsRUFBQXdCLEtBQUF2QixFQUFBQyxFQURBcUIsRUFFaEJuQixHQUFBQSwwQkFGZ0JQLE9BQUF5QixJQUFBLGtCQUlPUixTQUFOZCxFQUpEQyxFQUFBQyxHQXNCcEIsR0FBSXVCLEdBQW9CLDREQXRCSnBCLEVBQUEsR0FBQUMsaUJBQUFDLFFBQUFQLEVBQUF3QixLQUFBdkIsRUFBQUMsRUFBQXVCLEVBSWRDLEdBQUFBLG1CQXVCUjdCLE9BQU95QixJQUFJLGVBQWdCLFNBQUN0QixFQUFLQyxFQUFLQyxHQTNCaEIsR0FBQXlCLEdBQUEseURBQUF0QixFQUFBLEdBQUFDLGlCQUFBQyxRQUFBUCxFQUFBd0IsS0FBQXZCLEVBQUFDLEVBQUF5QixFQUFBdEIsR0FBQXVCLGdCQUFBQyxPQUFBQyxRQUFBakMiLCJmaWxlIjoicm91dGVzL3Byb2R1Y3RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG52YXIgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmltcG9ydCBQcm9kdWN0c01vZGVsIGZyb20gJy4uL21vZGVsL3Byb2R1Y3RzTW9kZWwuanMnO1xuXG5yb3V0ZXIuZ2V0KCcvZ2V0QWxsQnlDYXQnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdmFyIGVtYWlsQ2hlY2tTUUwgPSAnU0VMRUNUICogRlJPTSBfcHJvZHVjdCB3aGVyZSBfcHJvZHVjdC5jYXRlZ29yeV9pZCA9ID8nO1xuICB2YXIgdG9rZW4gPSByZXEuZ2V0KCdBdXRob3JpemF0aW9uJykgfHwgXCJcIjtcbiAgdmFyIE1vZGVsID0gbmV3IFByb2R1Y3RzTW9kZWwocmVxLnF1ZXJ5LCByZXMsIG5leHQsIHRva2VuLCBlbWFpbENoZWNrU1FMKTtcbiAgTW9kZWwuZ2V0QWxsQnlDYXQoKTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvZ2V0QWxsJywgYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHZhciBlbWFpbENoZWNrU1FMID0gJ1NFTEVDVCAqIEZST00gX3Byb2R1Y3QnO1xuICB2YXIgdG9rZW4gPSByZXEuZ2V0KCdBdXRob3JpemF0aW9uJykgfHwgXCJcIjtcbiAgdmFyIE1vZGVsID0gbmV3IFByb2R1Y3RzTW9kZWwocmVxLnF1ZXJ5LCByZXMsIG5leHQsIHRva2VuLCBlbWFpbENoZWNrU1FMKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTW9kZWwuZ2V0QWxsKCk7XG4gIHJlcy5qc29uKHJlc3VsdCk7XG59KTtcblxucm91dGVyLmdldCgnL2dldFByb2R1Y3QnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdmFyIGVtYWlsQ2hlY2tTUUwgPSAnU0VMRUNUICogRlJPTSBfcHJvZHVjdCB3aGVyZSBfcHJvZHVjdC5wcm9kdWN0X2lkID0gPyc7XG4gIHZhciB0b2tlbiA9IHJlcS5nZXQoJ0F1dGhvcml6YXRpb24nKSB8fCBcIlwiO1xuICB2YXIgTW9kZWwgPSBuZXcgUHJvZHVjdHNNb2RlbChyZXEucXVlcnksIHJlcywgbmV4dCwgdG9rZW4sIGVtYWlsQ2hlY2tTUUwpO1xuICBNb2RlbC5nZXRQcm9kdWN0KCk7XG59KTtcblxucm91dGVyLnB1dCgnL2NoYW5nZVF1YW50aXR5JywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHZhciBjaGFuZ2VRdWFudGl0eVNRTCA9ICd1cGRhdGUgX3Byb2R1Y3Qgc2V0IGBxdWFudGl0eWAgPSA/IHdoZXJlIGBwcm9kdWN0X2lkYCA9ID8nO1xuICB2YXIgTW9kZWwgPSBuZXcgUHJvZHVjdHNNb2RlbChyZXEuYm9keSwgcmVzLCBuZXh0LCBjaGFuZ2VRdWFudGl0eVNRTCk7XG4gIE1vZGVsLmNoYW5nZVByb2R1Y3RRdWFudGl0eSgpO1xufSk7XG5cbnJvdXRlci5wdXQoJy9jaGFuZ2VEaXNjb3VudCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB2YXIgY2hhbmdlRGlzY291bnRTUUwgPSAndXBkYXRlIF9wcm9kdWN0IHNldCBgZGlzY291bnRgID0gPyB3aGVyZSBgcHJvZHVjdF9pZGAgPSA/JztcbiAgdmFyIE1vZGVsID0gbmV3IFByb2R1Y3RzTW9kZWwocmVxLmJvZHksIHJlcywgbmV4dCwgY2hhbmdlRGlzY291bnRTUUwpO1xuICBNb2RlbC5jaGFuZ2VEaXNjb3VudCgpO1xufSk7XG5cbnJvdXRlci5wdXQoJy9jaGFuZ2VQcmljZScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB2YXIgY2hhbmdlUHJpY2VTUUwgPSAndXBkYXRlIF9wcm9kdWN0IHNldCBgcHJpY2VgID0gPyB3aGVyZSBgcHJvZHVjdF9pZGAgPSA/JztcbiAgdmFyIE1vZGVsID0gbmV3IFByb2R1Y3RzTW9kZWwocmVxLmJvZHksIHJlcywgbmV4dCwgY2hhbmdlUHJpY2VTUUwpO1xuICBNb2RlbC5jaGFuZ2VQcmljZSgpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19
