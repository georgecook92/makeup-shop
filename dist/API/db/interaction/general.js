"use strict";function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,n){function t(o,a){try{var s=r[o](a),c=s.value}catch(e){return void n(e)}return s.done?void e(c):Promise.resolve(c).then(function(e){t("next",e)},function(e){t("throw",e)})}return t("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var standardUpdateQuery=exports.standardUpdateQuery=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n,t,o){var a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pool.getConnection();case 3:return a=e.sent,e.next=6,a.query(r,n);case 6:if(s=e.sent,!(s.affectedRows>0)){e.next=16;break}if(!(s.changedRows>0)){e.next=13;break}a.connection.release(),o.json({success:!0}),e.next=14;break;case 13:throw new Error("No Change");case 14:e.next=17;break;case 16:throw new Error("ID Not Found");case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0),t(e.t0);case 23:case"end":return e.stop()}},e,this,[[0,19]])}));return function(r,n,t,o){return e.apply(this,arguments)}}(),standardGetQuery=exports.standardGetQuery=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n,t,o){var a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pool.getConnection();case 3:return a=e.sent,e.next=6,a.query(r,n);case 6:if(s=e.sent,!(s.length>0)){e.next=11;break}o.json(s),e.next=12;break;case 11:throw new Error("ID Not Found");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(r,n,t,o){return e.apply(this,arguments)}}(),pool=require("../connect.js");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiL2ludGVyYWN0aW9uL2dlbmVyYWwuanMiXSwibmFtZXMiOlsiX2NhbGxlZSIsIlNRTCIsImRhdGEiLCJuZXh0IiwicmVzIiwiY29ubmVjdGlvbiIsInJlc3VsdCIsInJlZ2VuZXJhdG9yUnVudGltZSIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJwb29sIiwiZ2V0Q29ubmVjdGlvbiIsInNlbnQiLCJxdWVyeSIsImFmZmVjdGVkUm93cyIsImNoYW5nZWRSb3dzIiwicmVsZWFzZSIsImpzb24iLCJzdWNjZXNzIiwiRXJyb3IiLCJ0MCIsImNvbnNvbGUiLCJsb2ciLCJzdG9wIiwidGhpcyIsIl9jYWxsZWUyIiwiX2NvbnRleHQyIiwibGVuZ3RoIiwicmVxdWlyZSJdLCJtYXBwaW5ncyI6ImdlQUVPLFFBQUFBLEdBQW1DQyxFQUFLQyxFQUFNQyxFQUFNQyxHQUFwRCxHQUFBQyxHQUFBQyxDQUFBLE9BQUFDLG9CQUFBQyxLQUFBLFNBQUFDLEdBQUEsT0FBQSxPQUFBQSxFQUFBQyxLQUFBRCxFQUFBTixNQUFBLElBQUEsR0FBQSxNQUFBTSxHQUFBQyxLQUFBLEVBQUFELEVBQUFOLEtBQUEsRUFFc0JRLEtBQUtDLGVBRjNCLEtBQUEsR0FBQSxNQUVHUCxHQUZISSxFQUFBSSxLQUFBSixFQUFBTixLQUFBLEVBR2tCRSxFQUFXUyxNQUFNYixFQUFLQyxFQUh4QyxLQUFBLEdBQUEsR0FHR0ksRUFISEcsRUFBQUksT0FJQ1AsRUFBT1MsYUFBZSxHQUp2QixDQUFBTixFQUFBTixLQUFBLEVBQUEsT0FBQSxLQUtHRyxFQUFPVSxZQUFjLEdBTHhCLENBQUFQLEVBQUFOLEtBQUEsRUFBQSxPQUFBRSxFQUFBQSxXQUFBWSxVQUFBYixFQUFBYyxNQUFBQyxTQUFBLElBQUFWLEVBQUFOLEtBQUEsRUFBQSxNQUFBLEtBQUEsSUFBQSxLQUFBLElBQUFpQixPQUFBLFlBQUEsS0FBQSxJQUFBWCxFQUFBTixLQUFBLEVBQUEsTUFBQSxLQUFBLElBQUEsS0FBQSxJQUFBaUIsT0FBQSxlQUFBLEtBQUEsSUFBQVgsRUFBQU4sS0FBQSxFQUFBLE1BQUEsS0FBQSxJQUFBTSxFQUFBQyxLQUFBLEdBQUFELEVBQUFZLEdBQUFaLEVBQUEsTUFBQSxHQUFBYSxRQUFBQyxJQUFBZCxFQUFBWSxJQUVHaEIsRUFBQUEsRUFBQUEsR0FGSCxLQUFBLElBQUEsSUFBQSxNQUFBLE1BQUFJLEdBQUFlLFNBQUF4QixFQUFBeUIsT0FBQSxFQUFBLDBLQUFBLFFBQUFDLEdBQUF6QixFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLEdBQUFDLEdBQUFDLENBQUEsT0FBQUMsb0JBQUFDLEtBQUEsU0FBQW1CLEdBQUEsT0FBQSxPQUFBQSxFQUFBakIsS0FBQWlCLEVBQUF4QixNQUFBLElBQUEsR0FBQSxNQUFBd0IsR0FBQWpCLEtBQUEsRUFBQWlCLEVBQUF4QixLQUFBLEVBc0JzQlEsS0FBS0MsZUF0QjNCLEtBQUEsR0FBQSxNQXNCR1AsR0F0QkhzQixFQUFBZCxLQUFBYyxFQUFBeEIsS0FBQSxFQUlRWSxFQUFBQSxNQUpSZCxFQUFBQyxFQUFBLEtBQUEsR0FBQSxHQUFBSSxFQUFBcUIsRUFBQWQsT0FBQVAsRUFBQXNCLE9BQUEsR0FBQSxDQUFBRCxFQUFBeEIsS0FBQSxFQUFBLE9BQUFDLEVBQUFjLEtBQUFaLEdBQUFxQixFQUFBeEIsS0FBQSxFQUFBLE1BQUEsS0FBQSxJQUFBLEtBMkJLLElBQUlpQixPQUFNLGVBM0JmLEtBQUEsSUFBQU8sRUFBQXhCLEtBQUEsRUFBQSxNQUFBLEtBQUEsSUFBQXdCLEVBQUFqQixLQUFBLEdBQUFpQixFQUFBTixHQUFBTSxFQUFBLE1BQUEsR0FBQUwsUUFBQUMsSUFBQUksRUFBQU4sSUFBQWxCLEVBQUFBLEVBQUFBLEdBQUEsS0FBQSxJQUFBLElBQUEsTUFBQSxNQUFBd0IsR0FBQUgsU0FBQUUsRUFBQUQsT0FBQSxFQUFBLHFFQUZIZCxLQUFPa0IsUUFBUSIsImZpbGUiOiJkYi9pbnRlcmFjdGlvbi9nZW5lcmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHBvb2wgPSByZXF1aXJlKCcuLi9jb25uZWN0LmpzJyk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFuZGFyZFVwZGF0ZVF1ZXJ5KFNRTCwgZGF0YSwgbmV4dCwgcmVzKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbm5lY3Rpb24ucXVlcnkoU1FMLCBkYXRhKTtcbiAgICBpZiAocmVzdWx0LmFmZmVjdGVkUm93cyA+IDApIHsgLy8gZXhpc3RzXG4gICAgICBpZiAocmVzdWx0LmNoYW5nZWRSb3dzID4gMCkgeyAvLyBjaGFuZ2VkIHF1YW50aXR5XG4gICAgICAgIGNvbm5lY3Rpb24uY29ubmVjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIHJlcy5qc29uKHtzdWNjZXNzOiB0cnVlfSk7XG4gICAgICB9IGVsc2UgeyAvLyBleGlzdHMgYnV0IG5vIGNoYW5nZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIENoYW5nZScpXG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gZG9lcyBub3QgZXhpc3RcbiAgICAgIHRocm93IG5ldyBFcnJvcignSUQgTm90IEZvdW5kJyk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gICAgbmV4dChlKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhbmRhcmRHZXRRdWVyeShTUUwsIGRhdGEsIG5leHQsIHJlcykge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb25uZWN0aW9uLnF1ZXJ5KFNRTCwgZGF0YSk7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICByZXMuanNvbihyZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lEIE5vdCBGb3VuZCcpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIG5leHQoZSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
